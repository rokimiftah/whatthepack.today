# ==============================================================================
# WhatThePack.today - Environment Variables
# ==============================================================================

# ------------------------------------------------------------------------------
# Convex Configuration
# ------------------------------------------------------------------------------
PUBLIC_CONVEX_URL="https://your-deployment.convex.cloud"
CONVEX_WEBHOOK_SECRET=""  # Generate: openssl rand -base64 32

# Self-hosted (optional, leave empty for cloud)
CONVEX_SELF_HOSTED_URL=""
CONVEX_SELF_HOSTED_ADMIN_KEY=""

# ------------------------------------------------------------------------------
# Auth0 Configuration (CRITICAL - REQUIRED FOR MVP)
# ------------------------------------------------------------------------------

# Auth0 SPA Application - Backend (Convex uses these)
AUTH0_DOMAIN="your-tenant.auth0.com"
AUTH0_CLIENT_ID=""                    # SPA Client ID
AUTH0_CLIENT_SECRET=""                # Leave empty for SPA (PKCE flow)
AUTH0_AUDIENCE=""                     # Usually: https://your-tenant.auth0.com/api/v2/
AUTH0_TENANT_DOMAIN=""                # Optional override for Management API (use tenant.auth0.com, no https://)

# Auth0 SPA Application - Frontend (PUBLIC_ prefix required for Rsbuild)
PUBLIC_AUTH0_DOMAIN="your-tenant.auth0.com"     # Same as AUTH0_DOMAIN
PUBLIC_AUTH0_CLIENT_ID=""                       # Same as AUTH0_CLIENT_ID
PUBLIC_AUTH0_AUDIENCE=""                        # Same as AUTH0_AUDIENCE

# Auth0 Management API (M2M Application for staff invites)
AUTH0_MGMT_CLIENT_ID=""               # M2M Client ID
AUTH0_MGMT_CLIENT_SECRET=""           # M2M Client Secret (KEEP SECRET!)

# Auth0 Roles (Get IDs from Auth0 Dashboard → User Management → Roles)
# NOTE: Only ADMIN and PACKER IDs are used in code (inviteStaff function)
# OWNER role is assigned via Auth0 Action during signup
AUTH0_OWNER_ROLE_ID=""                # Format: rol_xxxxxxxxxx (used in Auth0 Action)
AUTH0_ADMIN_ROLE_ID=""                # Format: rol_xxxxxxxxxx (used in convex/mgmt.ts)
AUTH0_PACKER_ROLE_ID=""               # Format: rol_xxxxxxxxxx (used in convex/mgmt.ts)

# Auth0 Connection ID (Get from Dashboard → Authentication → Database → Username-Password-Authentication → Settings)
AUTH0_CONNECTION_ID=""                # Format: con_xxxxxxxxxx (optional, auto-fetched if not set)

# ------------------------------------------------------------------------------
# OAuth Providers (Optional - for social login)
# ------------------------------------------------------------------------------
AUTH_GITHUB_ID=""
AUTH_GITHUB_SECRET=""
AUTH_GOOGLE_ID=""
AUTH_GOOGLE_SECRET=""

# Custom Auth (if using custom JWT)
CUSTOM_AUTH_SITE_URL=""
JWKS=""
JWT_PRIVATE_KEY=""

# ------------------------------------------------------------------------------
# AI & LLM Configuration
# ------------------------------------------------------------------------------
LLM_API_KEY=""                        # OpenAI API Key for RAG, extraction, etc
LLM_API_MODEL="gpt-4-turbo-preview"   # or gpt-4, gpt-3.5-turbo
LLM_API_URL=""                        # Optional: custom LLM endpoint

# ------------------------------------------------------------------------------
# Email Notifications (Resend)
# ------------------------------------------------------------------------------
RESEND_API_KEY=""                     # Get from: https://resend.com/api-keys

# ------------------------------------------------------------------------------
# Voice Interface (VAPI.ai)
# ------------------------------------------------------------------------------
PUBLIC_VAPI_ASSISTANT_ID=""           # Get from: https://vapi.ai
PUBLIC_VAPI_PUBLIC_KEY=""             # Public key for frontend
VAPI_WEBHOOK_SECRET=""                # For webhook verification

# ------------------------------------------------------------------------------
# Shipping Integration (ShipEngine)
# ------------------------------------------------------------------------------
# NOTE: ShipEngine API keys are stored in Auth0 Organization Metadata per org
# Platform doesn't need a global ShipEngine key

# ------------------------------------------------------------------------------
# Other Services
# ------------------------------------------------------------------------------
MAPBOX_ACCESS_TOKEN=""                # Optional: for maps

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------
SITE_URL="https://dev.rokimiftah.id"  # Your deployment URL
NODE_ENV="development"                # development | production

# ==============================================================================
# Setup Instructions:
# ==============================================================================
# 1. Copy this file to .env.local
# 2. Fill in all Auth0 variables (see AUTH0_SETUP_GUIDE.md)
# 3. Generate CONVEX_WEBHOOK_SECRET: openssl rand -base64 32
# 4. Get LLM_API_KEY from OpenAI
# 5. Get RESEND_API_KEY from Resend
# 6. Get VAPI keys from VAPI.ai dashboard
# 7. Never commit .env.local to git!
